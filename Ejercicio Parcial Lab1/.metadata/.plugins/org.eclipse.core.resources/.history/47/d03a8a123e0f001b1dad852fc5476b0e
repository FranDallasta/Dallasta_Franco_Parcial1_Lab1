/*
 * entidades.c
 *
 *  Created on: Oct 14, 2020
 *      Author: FRANCO
 */
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "entidades.h"

#define LLENO 1
#define VACIO 0

est_fecha cargarFecha() //carga y valida fecha
{
	est_fecha fecha;

	do{
		printf("Ingrese el dia: ");
		scanf("%d", &fecha.dia);
	}while(!(fecha.dia>=1 && fecha.dia <=31));

	do{
		printf("Ingrese el mes: ");
		scanf("%d", &fecha.mes);
	}while(!(fecha.mes>= 1 && fecha.mes <=12));

	do{
		printf("Ingrese el anio: ");
			scanf("%d", &fecha.anio);
	}while(!(fecha.anio>=1990 && fecha.anio<=2020));

	return fecha;
}

void mostrarFecha(est_fecha fecha)
{
	printf("\nEl dia es  %d", fecha.dia);
	printf("\nEl mes es  %d", fecha.mes);
	printf("\nEl anio es  %d\n", fecha.anio);
}

est_marca cargarMarca() //carga la marca
{
	est_marca compania;
	printf("Ingrese el numero de id de la marca: ");
	scanf("%d", &compania.id_marca);
	printf("Ingrese la descripcion de la marca: ");
	fflush(stdin);
	gets(compania.desc_marca);
	return compania;
}

void mostrarMarca(est_marca compania)
{
	printf("\nLa id es  %d", compania.id_marca);
	printf("\nLa id es  %s", compania.desc_marca);
}

est_electro cargarElectrodomestico()
{
	est_electro aparato;
	printf("Ingrese el numero de id del electrodomestico: ");
	scanf("%d", &aparato.id_electro);
	printf("Ingrese la serie del electrodomestico: ");
	scanf("%d", &aparato.serie_electro);
	printf("Ingrese la marca del electrodomestico: ");
	aparato.marca_electro = cargarMarca();
	printf("Ingrese la fecha de fabricacion: ");
	aparato.anio_electro = cargarFecha();
	aparato.isEmpty = LLENO;
	return aparato;
}

void mostrarElectrodomestico(est_electro aparato)
{
	printf("\nLa id es  %d", aparato.id_electro);
	printf("\nEL numero de serie es  %d", aparato.serie_electro);
	mostrarMarca(aparato.marca_electro);
	mostrarFecha(aparato.anio_electro);

}

void cargarMarcas(est_marca array[])
{
	//Harcodeo las marcas en cuestion en un array auxiliar
	est_marca aux[] = {
			{1, "Wirpool"},
			{2, "Sony"},
			{3, "Liliana"},
			{4, "Gafa"},
			{5, "Philips"}
	};
	int i;
	int j;

	for(i =0; i < 5; i++)
	{
		j = 1000 + i; //Las id de marca comienzan en 1000
		array[i].id_marca = j;
		strcpy(array[i].desc_marca,aux[i].desc_marca);
	}
}

void cargarServicio (est_servicio array[])
{
	est_servicio aux[] = {
			{1, "Garantia", 250},
			{2, "Repuestos", 400},
			{3, "Mantenimiento", 500},
			{4, "Refaccion", 600}
	};

	int i;
	int j;
	for(i =0; i < 5; i++)
		{
			j = 20000 + i; //Las id del servicio comienzan en 20000
			array[j] = aux[i];
		}
}


void cargarServicio (est_servicio array[])
{
	est_servicio aux[] = {
			{1, "Garantia", 250},
			{2, "Repuestos", 400},
			{3, "Mantenimiento", 500},
			{4, "Refaccion", 600}
	};
	int i;
	int j;
	for(i =0; i < 4; i++)
		{
			j = 20000 + i;
			array[i].id_servicio = j;
			strcpy(array[i].desc_servicio,aux[i].desc_servicio);

		}
}
